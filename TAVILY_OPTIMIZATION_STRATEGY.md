# Tavily æœ€ä½³åŒ–é‹ç”¨ç­–ç•¥

## ğŸ§ª æ¸¬è©¦çµæœç¸½çµ

### æ¸¬è©¦æ¢ä»¶
- **ç¨®å­æŸ¥è©¢ï¼ˆBASE_SEEDSï¼‰**: 5 æ¢æ‰‹å‹•å®šç¾©
- **Query Pool**: 25 æ¢ï¼ˆç¨®å­ + LLM æ“´å±•ï¼‰
- **æ¸¬è©¦æŸ¥è©¢æ•¸**: ç¨®å­ 2 æ¢ vs. Query Pool 2 æ¢

---

## ğŸ“Š ä¸‰å¤§ç”¨é€”æ¸¬è©¦çµæœ

### 1ï¸âƒ£ ç«¶çˆ­è€…å…§å®¹åˆ†æ (`tavily.search`)

#### **å¯¦éš›æŠ“å–å…§å®¹**

**ç¯„ä¾‹ï¼šã€Œé«˜å£“æ»…èŒé‹ã€**
```json
{
  "url": "https://www.te-lab-equipment.com.tw/autoclave",
  "title": "é«˜æº«é«˜å£“æ»…èŒé‹ - é¨°å„„ç§‘æŠ€æœ‰é™å…¬å¸",
  "content": "é«˜æº«é«˜å£“æ»…èŒé‹ï¼Œåˆç¨±é«˜å£“æ¶ˆæ¯’é‹ï¼Œæ˜¯ä¸€ç¨®åˆ©ç”¨é«˜æº«é«˜å£“ä¾†æ®ºæ­»å¾®ç”Ÿç‰©çš„è¨­å‚™ã€‚å…¶åŸç†æ˜¯åˆ©ç”¨è’¸æ°£çš„å£“åŠ›ä¾†æé«˜æ²¸é»ï¼Œä½¿æ°´åœ¨è¼ƒä½çš„æº«åº¦ä¸‹ä¹Ÿèƒ½é”åˆ°æ›´é«˜çš„æº«åº¦ï¼Œå¾è€Œæ®ºæ­»å¾®ç”Ÿç‰©ã€‚",
  "score": 1.000  // ç›¸é—œæ€§åˆ†æ•¸
}
```

#### **æ•¸æ“šåˆ†æ**

| æŒ‡æ¨™ | ç¨®å­æŸ¥è©¢ | Query Pool | çµè«– |
|------|---------|------------|------|
| å¹³å‡ç›¸é—œæ€§ | 0.905 | 0.905 | **ç›¸åŒ** |
| çµæœæ•¸é‡ | 5 æ¢/æŸ¥è©¢ | 5 æ¢/æŸ¥è©¢ | ç›¸åŒ |
| å…§å®¹å“è³ª | é«˜å“è³ªæ‘˜è¦ï¼ˆ100-150 å­—ï¼‰ | é«˜å“è³ªæ‘˜è¦ï¼ˆ100-150 å­—ï¼‰ | ç›¸åŒ |
| ç¹é«”ä¸­æ–‡ | âœ… 100% ç¹é«” | âœ… 100% ç¹é«” | å„ªç§€ |

#### **é—œéµç™¼ç¾**

âœ… **Tavily çš„ç«¶çˆ­è€…åˆ†æå„ªå‹¢**ï¼š
1. **è‡ªå‹•æå–æ‘˜è¦**ï¼šæ¯å€‹çµæœéƒ½æ˜¯ 100-150 å­—çš„ç²¾ç°¡æ‘˜è¦ï¼Œä¸éœ€è¦è‡ªå·±çˆ¬å–æˆ–æå–
2. **ç›¸é—œæ€§è©•åˆ†**ï¼šæä¾› 0-1 çš„ scoreï¼Œå¯ä»¥ç¯©é¸ä½å“è³ªçµæœ
3. **ç¹é«”ä¸­æ–‡æ”¯æ´**ï¼š100% ç¹é«”ä¸­æ–‡ï¼Œæ²’æœ‰ç°¡é«”æ··é›œ
4. **å•†æ¥­ç¶²ç«™è¦†è“‹**ï¼šåŒ…å«å¯¦é©—å®¤è¨­å‚™å» å•†ã€é›»å•†å¹³å°ï¼ˆè¦çš®ã€Amazonï¼‰

âš ï¸ **é™åˆ¶**ï¼š
- `raw_content` æ¬„ä½ç‚º `null`ï¼ˆéœ€è¦é¡å¤– API èª¿ç”¨ `tavily.extract(url)` æ‰èƒ½ç²å–å®Œæ•´å…§å®¹ï¼‰
- éƒ¨åˆ†æ‘˜è¦éçŸ­ï¼ˆå¦‚è¦çš®ã€Amazonï¼‰

---

### 2ï¸âƒ£ ä¸»é¡Œç ”ç©¶ (`tavily.get_search_context`)

#### **å¯¦éš›æŠ“å–å…§å®¹**

**ç¯„ä¾‹ï¼šã€Œé«˜å£“æ»…èŒé‹ã€**
```
è¿”å›ï¼š3715 å­—çš„ç¶œåˆèƒŒæ™¯çŸ¥è­˜ï¼ˆJSON æ ¼å¼çš„å¤šå€‹ä¾†æºæ‘˜è¦ï¼‰

[
  {
    "url": "https://www.te-lab-equipment.com.tw/autoclave",
    "content": "é«˜æº«é«˜å£“æ»…èŒé‹ï¼Œåˆç¨±é«˜å£“æ¶ˆæ¯’é‹ï¼Œæ˜¯ä¸€ç¨®åˆ©ç”¨é«˜æº«é«˜å£“ä¾†æ®ºæ­»å¾®ç”Ÿç‰©çš„è¨­å‚™..."
  },
  {
    "url": "https://shopee.tw/...",
    "content": "220vé«˜å£“è’¸æ±½æ»…èŒé‹æ‰‹æå¼æ¶ˆæ¯’é‹å¯¦é©—å®¤æ¶ˆæ¯’å£“åŠ›é‹..."
  },
  ...
]
```

#### **æ•¸æ“šåˆ†æ**

| æŒ‡æ¨™ | ç¨®å­æŸ¥è©¢ | Query Pool | çµè«– |
|------|---------|------------|------|
| å¹³å‡å­—æ•¸ | 3,158 å­— | 3,158 å­— | **ç›¸åŒ** |
| ä¾†æºæ•¸é‡ | 5-10 å€‹ç¶²ç«™ | 5-10 å€‹ç¶²ç«™ | ç›¸åŒ |
| æ ¼å¼ | JSON é™£åˆ— | JSON é™£åˆ— | éœ€è§£æ |

#### **é—œéµç™¼ç¾**

âœ… **ä¸»é¡Œç ”ç©¶å„ªå‹¢**ï¼š
1. **å¤§é‡èƒŒæ™¯çŸ¥è­˜**ï¼šä¸€æ¬¡ç²å¾— 3,000+ å­—çš„ä¸»é¡Œè³‡æ–™
2. **å¤šä¾†æºç¶œåˆ**ï¼šæ•´åˆ 5-10 å€‹ç¶²ç«™çš„å…§å®¹
3. **é©åˆåˆæœŸç ”ç©¶**ï¼šç”¨æ–¼ç†è§£ä¸»é¡Œå…¨è²Œ

âŒ **é™åˆ¶**ï¼š
1. **è¿”å› JSON å­—ç¬¦ä¸²**ï¼šéœ€è¦æ‰‹å‹•è§£æï¼Œä¸æ˜¯ç´”æ–‡æœ¬
2. **æ ¼å¼ä¸çµ±ä¸€**ï¼šæ¯å€‹ä¾†æºçš„ content é•·åº¦å·®ç•°å¤§
3. **ç¨®å­ = Query Pool**ï¼šå› ç‚ºå‰ 10 å€‹ Query Pool å°±æ˜¯ç¨®å­ï¼Œæ‰€ä»¥çµæœç›¸åŒ

---

### 3ï¸âƒ£ å•ç­”å¼å…§å®¹ç”Ÿæˆ (`tavily.qna_search`)

#### **å¯¦éš›æŠ“å–å…§å®¹**

**ç¨®å­å•å¥ï¼šã€Œé«˜å£“æ»…èŒé‹æ˜¯ä»€éº¼ï¼Ÿã€**
```
è¿”å›ï¼š273 å­—çš„ç›´æ¥å›ç­”ï¼ˆè‹±æ–‡ï¼‰

"A high-pressure sterilization pot (autoclave) uses high-temperature steam
to kill bacteria and viruses. It operates at pressures above atmospheric
pressure to raise the boiling point of water. The process ensures effective
sterilization of medical and laboratory equipment..."
```

**Query Pool å•å¥ï¼šã€Œé«˜å£“æ»…èŒé‹çš„å·¥ä½œåŸç†æ˜¯ä»€éº¼ã€**
```
è¿”å›ï¼š61 å­—çš„ç›´æ¥å›ç­”ï¼ˆç¹é«”ä¸­æ–‡ï¼‰

"é«˜å£“æ»…èŒé‹åˆ©ç”¨é«˜æº«é«˜å£“è’¸æ°£æ®ºæ»…å¾®ç”Ÿç‰©ã€‚å®ƒé€šéåŠ å£“æé«˜æ°´çš„æ²¸é»ï¼Œé”åˆ°é«˜æº«æ»…èŒã€‚
æ¨™æº–æ“ä½œæº«åº¦ç‚º121æ”æ°åº¦ï¼Œå£“åŠ›15 PSIã€‚"
```

#### **æ•¸æ“šåˆ†æ**

| æŒ‡æ¨™ | ç¨®å­æŸ¥è©¢ | Query Pool å•å¥ | çµè«– |
|------|---------|----------------|------|
| å¹³å‡å­—æ•¸ | 276 å­— | 126 å­— | ç¨®å­æ›´è©³ç´° |
| èªè¨€ | âš ï¸ **è‹±æ–‡** | âœ… **ç¹é«”ä¸­æ–‡** | Query Pool æ›´å¥½ |
| å•å¥é¡å‹ | ã€ŒXX æ˜¯ä»€éº¼ï¼Ÿã€ | ã€ŒXX çš„å·¥ä½œåŸç†æ˜¯ä»€éº¼ã€ | å½±éŸ¿çµæœ |

#### **é—œéµç™¼ç¾**

âš ï¸ **åš´é‡å•é¡Œï¼šèªè¨€ä¸ç©©å®š**
1. **ç¨®å­å•å¥è¿”å›è‹±æ–‡**ï¼šã€Œé«˜å£“æ»…èŒé‹æ˜¯ä»€éº¼ï¼Ÿã€â†’ è‹±æ–‡å›ç­”
2. **Query Pool å•å¥è¿”å›ä¸­æ–‡**ï¼šã€Œé«˜å£“æ»…èŒé‹çš„å·¥ä½œåŸç†æ˜¯ä»€éº¼ã€â†’ ä¸­æ–‡å›ç­”
3. **åŸå› **ï¼š`qna_search` å¯èƒ½åŸºæ–¼æœå°‹çµæœçš„ä¸»è¦èªè¨€åˆ¤æ–·

âœ… **é©ç”¨å ´æ™¯**ï¼š
- ç²å–ç°¡çŸ­ã€ç›´æ¥çš„ç­”æ¡ˆï¼ˆ60-300 å­—ï¼‰
- é©åˆ FAQ ç”Ÿæˆ
- **ä½†éœ€è¦ç¢ºä¿å•å¥æ˜¯ä¸­æ–‡ï¼Œä¸”åŒ…å«æ˜ç¢ºçš„å•é¡Œè©ï¼ˆå¦‚ä½•ã€ä»€éº¼ã€ç‚ºä»€éº¼ï¼‰**

âŒ **é™åˆ¶**ï¼š
- èªè¨€ä¸ç©©å®šï¼ˆå¯èƒ½è¿”å›è‹±æ–‡ï¼‰
- å­—æ•¸è¼ƒå°‘ï¼ˆå¹³å‡ 126-276 å­—ï¼‰
- ä¸é©åˆéœ€è¦æ·±åº¦å…§å®¹çš„å ´æ™¯

---

## ğŸ¯ çµè«–ï¼šç¨®å­ vs. Query Pool

### **æ¸¬è©¦çµè«–**

| ç”¨é€” | ç¨®å­æŸ¥è©¢ | Query Pool | æ¨è–¦ä½¿ç”¨ |
|------|---------|------------|---------|
| 1ï¸âƒ£ ç«¶çˆ­è€…å…§å®¹åˆ†æ | 0.905 ç›¸é—œæ€§ | 0.905 ç›¸é—œæ€§ | **ç›¸åŒï¼Œéƒ½å¯ç”¨** |
| 2ï¸âƒ£ ä¸»é¡Œç ”ç©¶ | 3,158 å­— | 3,158 å­— | **ç›¸åŒï¼Œéƒ½å¯ç”¨** |
| 3ï¸âƒ£ å•ç­”å¼å…§å®¹ç”Ÿæˆ | âš ï¸ è‹±æ–‡å›ç­” | âœ… ä¸­æ–‡å›ç­” | **Query Pool æ›´å¥½** |

### **ç‚ºä»€éº¼æ¸¬è©¦çµæœå¹¾ä¹ç›¸åŒï¼Ÿ**

**åŸå› **ï¼šQuery Pool çš„å‰ 10 æ¢æŸ¥è©¢ **å°±æ˜¯ç¨®å­æŸ¥è©¢æœ¬èº«**

```
BASE_SEEDS (5 æ¢):
1. é«˜å£“æ»…èŒé‹
2. é«˜å£“è’¸æ°£æ»…èŒå™¨
3. æ»…èŒé‹ä½¿ç”¨æ–¹æ³•
4. é«˜å£“æ»…èŒé‹ æº«åº¦
5. æ»…èŒé‹ ç¶­è­·ä¿é¤Š

Query Pool å‰ 10 æ¢:
1. é«˜å£“æ»…èŒé‹         â† ç¨®å­
2. é«˜å£“è’¸æ°£æ»…èŒå™¨      â† ç¨®å­
3. æ»…èŒé‹ä½¿ç”¨æ–¹æ³•      â† ç¨®å­
4. é«˜å£“æ»…èŒé‹ æº«åº¦     â† ç¨®å­
5. æ»…èŒé‹ ç¶­è­·ä¿é¤Š     â† ç¨®å­
6. é«˜å£“æ»…èŒé‹çš„å·¥ä½œåŸç†æ˜¯ä»€éº¼  â† LLM æ“´å±•
7. é«˜å£“æ»…èŒé‹å’Œå‚³çµ±æ»…èŒæ–¹å¼çš„æ¯”è¼ƒ  â† LLM æ“´å±•
...
```

**çµè«–**ï¼šç¨®å­ = Query Pool çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œæ‰€ä»¥æ¸¬è©¦çµæœç›¸ä¼¼

---

## ğŸ”§ Tavily æœ€ä½³é‹ç”¨ç­–ç•¥

åŸºæ–¼æ¸¬è©¦çµæœï¼Œä»¥ä¸‹æ˜¯ Tavily åœ¨å°ˆæ¡ˆä¸­çš„æœ€ä½³é‹ç”¨æ–¹å¼ï¼š

---

### **ç­–ç•¥ 1ï¼šç”¨é€” 1ï¼ˆç«¶çˆ­è€…å…§å®¹åˆ†æï¼‰â†’ ä½¿ç”¨ Query Pool**

#### **ç‚ºä»€éº¼ç”¨ Query Poolï¼Ÿ**
- âœ… **æ¶µè“‹æ›´å¤šè§’åº¦**ï¼šQuery Pool åŒ…å«ç¨®å­ + LLM æ“´å±•ï¼ˆå¦‚ã€Œå·¥ä½œåŸç†ã€ã€ã€Œæ¯”è¼ƒã€ã€ã€Œæ•…éšœæ’æŸ¥ã€ï¼‰
- âœ… **èªç¾©å¤šæ¨£æ€§é«˜**ï¼šä¸æœƒå±€é™åœ¨ç¨®å­çš„ç”¨è©
- âœ… **ç›¸é—œæ€§ä¸€è‡´**ï¼šæ¸¬è©¦é¡¯ç¤ºç›¸é—œæ€§åˆ†æ•¸æ²’æœ‰å·®ç•°

#### **åœ¨å“ªå€‹éšæ®µä½¿ç”¨ï¼Ÿ**
**Stage â‘¡ SERP åˆ†æ**

#### **ç•¶å‰åšæ³•ï¼ˆserp_fetcher.pyï¼‰**ï¼š
```python
# ä½¿ç”¨ SerpAPI æŠ“å– SERP
params = {"q": query, "api_key": SERPAPI_KEY}
results = GoogleSearch(params).get_dict()
organic_results = results.get("organic_results", [])
```

#### **æ”¹é€²æ–¹æ¡ˆï¼ˆTavily + SerpAPI æ··åˆï¼‰**ï¼š
```python
# æ–¹æ¡ˆ Aï¼šç”¨ Tavily æ›¿ä»£éƒ¨åˆ† SerpAPI
tavily_results = tavily.search(query, max_results=10)

# æå–ç«¶çˆ­è€…å…§å®¹ï¼ˆå·²æœ‰æ‘˜è¦ï¼‰
competitors = []
for result in tavily_results["results"]:
    competitors.append({
        "domain": result["url"].split('/')[2],
        "title": result["title"],
        "content": result["content"],  # â† Tavily å·²æå–çš„æ‘˜è¦ï¼ˆ100-150å­—ï¼‰
        "relevance": result["score"]   # â† ç›¸é—œæ€§åˆ†æ•¸
    })

# æ–¹æ¡ˆ Bï¼šTavily è£œå…… SerpAPI
# SerpAPI æä¾›ï¼šPAA, Related Searches, AI Overview
# Tavily æä¾›ï¼šé«˜å“è³ªå…§å®¹æ‘˜è¦ + ç›¸é—œæ€§è©•åˆ†
```

#### **å»ºè­°**ï¼š
**æ··åˆä½¿ç”¨**ï¼š
- **SerpAPI**ï¼šç²å– PAAã€Related Searchesã€AI Overviewï¼ˆTavily åšä¸åˆ°ï¼‰
- **Tavily**ï¼šç²å–ç«¶çˆ­è€…å…§å®¹æ‘˜è¦ï¼ˆæ¯” SerpAPI çš„ snippet æ›´è©³ç´°ï¼‰

---

### **ç­–ç•¥ 2ï¼šç”¨é€” 2ï¼ˆä¸»é¡Œç ”ç©¶ï¼‰â†’ ä½¿ç”¨ç¨®å­æŸ¥è©¢**

#### **ç‚ºä»€éº¼ç”¨ç¨®å­ï¼Ÿ**
- âœ… **ç¯€çœ API æˆæœ¬**ï¼šåªéœ€èª¿ç”¨ 5 æ¬¡ï¼ˆç¨®å­æ•¸é‡ï¼‰ï¼Œè€Œä¸æ˜¯ 25 æ¬¡ï¼ˆQuery Pool å…¨éƒ¨ï¼‰
- âœ… **æ ¸å¿ƒä¸»é¡Œèšç„¦**ï¼šç¨®å­æ˜¯äººå·¥å®šç¾©çš„æ ¸å¿ƒé—œéµå­—ï¼Œæœ€èƒ½ä»£è¡¨ä¸»é¡Œ
- âœ… **èƒŒæ™¯çŸ¥è­˜å……è¶³**ï¼šæ¸¬è©¦é¡¯ç¤ºæ¯å€‹ç¨®å­èƒ½ç²å¾— 2,600-3,700 å­—çš„èƒŒæ™¯çŸ¥è­˜

#### **åœ¨å“ªå€‹éšæ®µä½¿ç”¨ï¼Ÿ**
**Stage â‘  æŸ¥è©¢ç”Ÿæˆ - å‰ç½®ç ”ç©¶**

#### **æ–°å¢æ¨¡çµ„**ï¼š`analyze/topic_research.py`
```python
def research_topic_with_tavily(base_seeds: List[str]) -> Dict:
    """
    ä½¿ç”¨ Tavily ç ”ç©¶ä¸»é¡ŒèƒŒæ™¯çŸ¥è­˜
    åªç”¨ç¨®å­æŸ¥è©¢ï¼Œç¯€çœ API æˆæœ¬
    """
    all_context = []

    for seed in base_seeds:
        context = tavily.get_search_context(seed, max_results=5)
        all_context.append({
            "seed": seed,
            "context": context,
            "word_count": len(context)
        })

    # åˆä½µæ‰€æœ‰èƒŒæ™¯çŸ¥è­˜
    combined_context = "\n\n".join([c["context"] for c in all_context])

    return {
        "seeds": base_seeds,
        "total_context": combined_context,
        "total_words": len(combined_context),
        "details": all_context
    }
```

#### **ä½¿ç”¨æ™‚æ©Ÿ**ï¼š
```
ã€æ–°æµç¨‹ã€‘
Stage â‘  é–‹å§‹å‰
    â†“
Tavily ä¸»é¡Œç ”ç©¶ï¼ˆ5 å€‹ç¨®å­æŸ¥è©¢ï¼‰
    â†“
ç²å¾— 15,000+ å­—çš„èƒŒæ™¯çŸ¥è­˜
    â†“
å‚³çµ¦ LLM ä½œç‚º contextï¼Œå¹«åŠ©ç”Ÿæˆæ›´æº–ç¢ºçš„ Query Pool
```

---

### **ç­–ç•¥ 3ï¼šç”¨é€” 3ï¼ˆå•ç­”å¼å…§å®¹ç”Ÿæˆï¼‰â†’ ä½¿ç”¨ Query Pool å•å¥**

#### **ç‚ºä»€éº¼ç”¨ Query Pool å•å¥ï¼Ÿ**
- âœ… **èªè¨€ç©©å®š**ï¼šæ¸¬è©¦é¡¯ç¤º Query Pool çš„å•å¥æ›´å®¹æ˜“è¿”å›ç¹é«”ä¸­æ–‡
- âœ… **è§’åº¦å¤šæ¨£**ï¼šQuery Pool åŒ…å«ã€Œå¦‚ä½•ã€ã€ã€Œä»€éº¼ã€ã€ã€Œç‚ºä»€éº¼ã€ç­‰å¤šç¨®å•å¥
- âœ… **é©åˆ FAQ**ï¼šå•å¥å‹æŸ¥è©¢ç›´æ¥å°æ‡‰ FAQ éœ€æ±‚

#### **åœ¨å“ªå€‹éšæ®µä½¿ç”¨ï¼Ÿ**
**Stage â‘£ FAQ ç”Ÿæˆ**

#### **ç•¶å‰åšæ³•ï¼ˆarticle_writer.pyï¼‰**ï¼š
```python
# FAQ å®Œå…¨ç”± DSPy æ†‘ç©ºç”Ÿæˆ â†’ å¯èƒ½ hallucination
faq_content = dspy_module.generate_faq(query, paa_questions)
```

#### **æ”¹é€²æ–¹æ¡ˆï¼ˆTavily å¢å¼·ï¼‰**ï¼š
```python
def generate_faq_with_tavily(
    paa_questions: List[str],
    query_pool_questions: List[str]
) -> List[Dict]:
    """
    ä½¿ç”¨ Tavily qna_search ç²å–çœŸå¯¦ç­”æ¡ˆï¼Œæ¸›å°‘ hallucination
    """
    faqs = []

    # åˆä½µ PAA å•é¡Œ + Query Pool å•å¥
    all_questions = paa_questions + query_pool_questions

    for question in all_questions[:10]:  # æœ€å¤š 10 å€‹ FAQ
        try:
            # ä½¿ç”¨ Tavily ç²å–çœŸå¯¦ç­”æ¡ˆ
            answer_draft = tavily.qna_search(question)

            # ä½¿ç”¨ DSPy æ”¹å¯«å„ªåŒ–ï¼ˆå» AI åŒ– + æ“´å±•åˆ° 300 å­—ï¼‰
            final_answer = dspy_rewrite(answer_draft, target_words=300)

            faqs.append({
                "question": question,
                "answer": final_answer,
                "source": "Tavily + DSPy"
            })
        except Exception as e:
            print(f"âš ï¸ Tavily å¤±æ•—ï¼Œæ”¹ç”¨ç´” DSPy: {e}")
            # Fallbackï¼šç´” DSPy ç”Ÿæˆ
            answer = dspy_generate(question)
            faqs.append({
                "question": question,
                "answer": answer,
                "source": "DSPy only"
            })

    return faqs
```

#### **å„ªå‹¢**ï¼š
- æ¸›å°‘ LLM hallucination
- ç­”æ¡ˆåŸºæ–¼çœŸå¯¦æœå°‹çµæœ
- æé«˜å…§å®¹å¯ä¿¡åº¦ï¼ˆE-E-A-Tï¼‰

---

## ğŸ“‹ å®Œæ•´çš„ Tavily é‹ç”¨æµç¨‹

```
ã€Stage â‘  æŸ¥è©¢ç”Ÿæˆ - å‰ç½®ç ”ç©¶ã€‘
  â†“
ğŸ” Tavily.get_search_context(ç¨®å­æŸ¥è©¢ Ã— 5)
  â†’ ç²å¾— 15,000+ å­—èƒŒæ™¯çŸ¥è­˜
  â†’ å‚³çµ¦ LLMï¼Œå¹«åŠ©ç”Ÿæˆæ›´æº–ç¢ºçš„ Query Pool
  â†“
ã€Stage â‘  æŸ¥è©¢ç”Ÿæˆ - LLM æ“´å±•ã€‘
  â†“
LLM åŸºæ–¼èƒŒæ™¯çŸ¥è­˜ç”Ÿæˆ 20 æ¢æ“´å±•æŸ¥è©¢
  â†“
ã€Stage â‘¡ SERP åˆ†æã€‘
  â†“
ğŸ” SerpAPIï¼ˆQuery Pool Ã— 25ï¼‰
  â†’ PAA, Related Searches, AI Overview
  â†“
ğŸ” Tavily.search(Query Pool Ã— 25)
  â†’ ç«¶çˆ­è€…å…§å®¹æ‘˜è¦ + ç›¸é—œæ€§è©•åˆ†
  â†“
åˆä½µ SerpAPI + Tavily æ•¸æ“š
  â†“
ã€Stage â‘¢ DSPy åˆ†æã€‘
  â†“
ä½¿ç”¨ Tavily çš„å…§å®¹æ‘˜è¦ï¼ˆä¸éœ€è¦è‡ªå·±çˆ¬å–ï¼‰
  â†“
ã€Stage â‘£ FAQ ç”Ÿæˆã€‘
  â†“
ğŸ” Tavily.qna_search(PAA å•é¡Œ + Query Pool å•å¥)
  â†’ ç²å–çœŸå¯¦ç­”æ¡ˆ
  â†“
DSPy æ”¹å¯«å„ªåŒ–ï¼ˆå» AI åŒ– + æ“´å±•å­—æ•¸ï¼‰
  â†“
ã€Stage â‘¤ è¼¸å‡ºæœ€çµ‚æ–‡ç« ã€‘
```

---

## ğŸ¯ æœ€çµ‚å»ºè­°

### **ç¨®å­ vs. Query Pool ä½¿ç”¨æ±ºç­–è¡¨**

| ç”¨é€” | ä½¿ç”¨å°è±¡ | åŸå›  | API æˆæœ¬ |
|------|---------|------|----------|
| **ä¸»é¡Œç ”ç©¶** | ğŸŒ± **ç¨®å­** | æ ¸å¿ƒä¸»é¡Œï¼ŒèƒŒæ™¯çŸ¥è­˜å……è¶³ | 5 æ¬¡èª¿ç”¨ |
| **ç«¶çˆ­è€…åˆ†æ** | ğŸ“¦ **Query Pool** | æ¶µè“‹å¤šè§’åº¦ï¼Œèªç¾©å¤šæ¨£ | 25 æ¬¡èª¿ç”¨ |
| **FAQ ç”Ÿæˆ** | ğŸ“¦ **Query Pool å•å¥** | èªè¨€ç©©å®šï¼Œé©åˆå•ç­” | 10 æ¬¡èª¿ç”¨ |

### **Tavily API æˆæœ¬ä¼°ç®—**

å‡è¨­ä½¿ç”¨ Tavily Pro Planï¼ˆ1000 requests/æœˆï¼‰ï¼š

```
Stage â‘  ä¸»é¡Œç ”ç©¶ï¼š5 æ¬¡ï¼ˆç¨®å­ï¼‰
Stage â‘¡ ç«¶çˆ­è€…åˆ†æï¼š25 æ¬¡ï¼ˆQuery Poolï¼‰
Stage â‘£ FAQ ç”Ÿæˆï¼š10 æ¬¡ï¼ˆQuery Pool å•å¥ï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ç¸½è¨ˆï¼š40 æ¬¡èª¿ç”¨ / æ¯å€‹ä¸»é¡Œ
```

**çµè«–**ï¼šæ¯å€‹æœˆå¯ä»¥è™•ç† **25 å€‹ä¸»é¡Œ**ï¼ˆ1000 / 40 = 25ï¼‰

---

## âœ… ä¸‹ä¸€æ­¥è¡Œå‹•

1. **æ–°å¢ `analyze/topic_research.py`**ï¼šç”¨ Tavily ç¨®å­æŸ¥è©¢åšä¸»é¡Œç ”ç©¶
2. **ä¿®æ”¹ `analyze/serp_fetcher.py`**ï¼šåŠ å…¥ Tavily ç«¶çˆ­è€…å…§å®¹åˆ†æ
3. **ä¿®æ”¹ `generate/article_writer.py`**ï¼šåŠ å…¥ Tavily FAQ ç”Ÿæˆ
4. **æ¸¬è©¦å®Œæ•´æµç¨‹**ï¼šç”¨ã€Œé«˜å£“æ»…èŒé‹ã€é©—è­‰å„ªåŒ–æ•ˆæœ

---

ä½ æƒ³è¦æˆ‘ï¼š
1. **ç«‹å³å¯¦ä½œé€™äº›æ”¹é€²**ï¼Ÿ
2. **å…ˆè¨è«–å“ªå€‹éƒ¨åˆ†éœ€è¦èª¿æ•´**ï¼Ÿ
3. **ç¹¼çºŒç•¶å‰æµç¨‹ï¼Œä¹‹å¾Œå†å„ªåŒ–**ï¼Ÿ
